<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ERROR CRÍTICO: DATAWEEN | VIDACAIXA</title>
    <!-- Carga de Tailwind CSS para un diseño limpio y rápido -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuración para usar la fuente monoespacio (terminal style) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap');
        
        /* Tema Base: Fondo Oscuro, Texto Verde Brillante */
        body {
            font-family: 'Source Code Pro', monospace;
            background-color: #0d0d0d;
            color: #00ff41;
            text-shadow: 0 0 4px rgba(0, 255, 65, 0.7);
            overflow-y: auto; /* Dejamos auto por si es un móvil muy pequeño */
        }

        /* Efecto de Cursor Parpadeante */
        .matrix-effect::after {
            content: "_";
            opacity: 0.8;
            animation: blink 1s step-start infinite;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Glitch para Texto (Rojo/Cyan) */
        .glitch {
            animation: glitch-anim 0.4s infinite alternate;
        }
        @keyframes glitch-anim {
            0% { transform: translate(0.5px, 0.5px); text-shadow: 0.5px 0.5px 0 red; }
            50% { transform: translate(-0.5px, -0.5px); text-shadow: -0.5px -0.5px 0 cyan; }
            100% { transform: translate(0.5px, -0.5px); text-shadow: 0.5px 0.5px 0 red; }
        }

        /* ALARM FLASHING EFFECT (Banner Superior) */
        @keyframes alarm-flash {
            0%, 100% { background-color: #991b1b; border-color: #f87171; }
            50% { background-color: #b91c1c; border-color: #ef4444; }
        }
        .alarm-banner {
            animation: alarm-flash 0.2s infinite alternate;
        }

        /* Glitch de Contenedor (Efecto de salto y distorsión) */
        .container-glitch {
            animation: container-glitch-anim 0.2s linear infinite alternate;
        }
        @keyframes container-glitch-anim {
            0% { 
                transform: skewX(1deg) scaleY(1.005); 
                filter: hue-rotate(0deg); 
            }
            100% { 
                transform: skewX(-1deg) scaleY(0.995); 
                filter: hue-rotate(5deg); 
            }
        }
        
        /* Quitamos la altura máxima ya que el contenido es estático */
        #terminal-output {
            overflow-y: auto;
            white-space: pre-wrap;
        }
        
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen">

    <div class="max-w-4xl mx-auto">

        <!-- Banner de Alerta Crítica con ALARMA ROJA -->
        <header id="alarm-header" class="rounded-lg border border-red-600 p-3 mb-6 bg-red-900/30 shadow-xl shadow-red-500/50 alarm-banner">
            <h1 class="text-3xl md:text-4xl font-bold text-red-100 glitch text-center">
                *** [DATAWEEN] CÓDIGO ROJO CRÍTICO ***
            </h1>
        </header>

        <!-- Simulación de Terminal HACKEADA -->
        <div id="terminal-output" class="text-sm md:text-base border-2 border-green-500 rounded-lg p-5 bg-black/70 shadow-2xl shadow-green-500/30">
            
            <!-- Conexión y estado de la red - Contenido Fijo Inicial -->
            <p class="mb-2">>> Conectando a Sistema Central (DATAPOOL DE VIDACAIXA)...</p>
            <p class="mb-2 text-red-400">>> ERROR [401]: **AUTORIZACIÓN PENDIENTE DE VIDA**.</p>
            <p class="mb-4 text-yellow-400">>> Usuario infiltrado: **EL_MODELO_ZOMBIE**</p>

            <h2 class="text-xl font-bold mb-3 mt-4 text-yellow-400">--- MÓDULO: EXTRACCIÓN DE LA PÓLIZA DE VIDA ---</h2>

            <!-- Ficha de Datos Personales -->
            <div class="space-y-1 mb-6 p-3 border-l-4 border-yellow-500 bg-gray-900/50">
                <p><strong><span class="text-red-500 glitch">DATA LEAK:</span></strong> Cliente-ID <span class="text-red-500">6660000</span></p>
                <p>Tipo_Póliza: PÓLIZA DE VIDA (TERMINADA)</p>
                <p>Estado: <span class="glitch">**TRANSFERENCIA A INFIERNO.DAT** (100%)</span></p>
                <p class="text-red-400 mt-2">... ÉXITO: Los datos nunca mueren ...</p>
            </div>
            
            <!-- SECCIÓN: INFILTRACIÓN DE DISPOSITIVO (Remote Access) -->
            <h2 class="text-xl font-bold mb-3 mt-4 text-red-500">--- INFILTRACIÓN DE DISPOSITIVO: REGISTRO PERMANENTE ---</h2>
            
            <div class="space-y-1 mb-6 p-3 border-l-4 border-red-500 bg-gray-900/50">
                <!-- IP simulada -->
                <p>IP DE ORIGEN: <span class="text-yellow-400">188.42.XX.YY</span> (<span class="text-red-500 glitch">TU UBICACIÓN</span>)</p>
                
                <!-- Modelo de Dispositivo -->
                <p>MODELO O.S.: <span id="device-model" class="text-yellow-400">... Procesando...</span></p>

                <!-- Resto de datos capturados dinámicamente -->
                <p>Resolución: <span id="screen-res" class="text-yellow-400">... Calculando...</span></p>
                <p>Hora de la Condena: <span id="local-time" class="text-red-500">... Sincronizando...</span></p>
                <p class="text-xs mt-3">Firma Digital (User Agent): <span id="digital-signature" class="text-gray-500">... Recopilando...</span></p>
            </div>
            
            <!-- MENSAJE DEL ATACANTE -->
            <h2 class="text-xl font-bold mb-3 mt-4 text-red-500">--- MENSAJE DE TU MODELO ASESINO ---</h2>
            <p class="text-base md:text-lg mb-6">
                Creíste que tenías el control de la predicción, Data Scientist. <br>
                **TU RIESGO ERA 100%.** Disfruta de Dataween.
            </p>

            <p class="mb-2">>> Eliminando rastros...</p>
            <p class="mb-2 text-red-400">>> ERROR: Corrupción de metadatos completa.</p>
            <p class="mt-4">
                <span id="prompt-cursor">>_ C:\\DATAPOOL\\LOG_00.BIN (ACCESS DENIED)</span>
            </p>
        </div>

        <!-- Pie de página -->
        <footer class="mt-6 pt-2 text-gray-700 text-xs text-center">
            [PROYECTO DATAWEEN: JOSEP VALLE]
        </footer>

    </div>

    <script>
        // Referencia a los elementos DOM
        const terminalOutput = document.getElementById("terminal-output");
        const promptCursor = document.getElementById("prompt-cursor");

        // Utilidad para obtener un número aleatorio en un rango
        const randomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

        // --- FUNCIÓN DE TIPEADO (Original) ---
        function typeWriter(text, i, fnCallback) {
            if (promptCursor && i < (text.length)) {
                promptCursor.innerHTML = text.substring(0, i+1) + '<span class="matrix-effect"></span>';

                setTimeout(function() {
                    typeWriter(text, i + 1, fnCallback)
                }, 50); 
            } else if (typeof fnCallback == 'function') {
                setTimeout(fnCallback, 700);
            }
        }

        // --- FUNCIÓN DE CAPTURA DE INFO (Original) ---
        function captureDeviceInfo() {
            // Captura el User Agent completo, que incluye OS, navegador y dispositivo
            const fullUserAgent = navigator.userAgent; 
            
            // Elementos DOM donde se inyectarán los datos
            const modelEl = document.getElementById('device-model');
            const signatureEl = document.getElementById('digital-signature');
            const resEl = document.getElementById('screen-res');
            const timeEl = document.getElementById('local-time');
            
            // 1. Modelo O.S. (Se muestra un fragmento del User Agent para un look de terminal)
            const modelInfo = fullUserAgent.substring(0, 70) + '...'; 
            if (modelEl) modelEl.textContent = modelInfo;
            
            // 1b. Firma Digital (User Agent completo)
            if (signatureEl) signatureEl.textContent = fullUserAgent; 

            // 2. Resolución de Pantalla
            const screenRes = `${screen.width}x${screen.height} (Px)`;
            if (resEl) resEl.textContent = screenRes;

            // 3. Hora Local (Hora de la Condena)
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: '2-digit' };
            const localTime = now.toLocaleTimeString('es-ES', timeOptions) + ' (' + now.toLocaleDateString('es-ES', { month: 'short', day: '2-digit' }) + ')';
            if (timeEl) timeEl.textContent = localTime;
        }

        // --- FUNCIÓN DE ALARMA Y VIBRACIÓN (Original) ---
        function triggerAlarm() {
            if (navigator.vibrate) {
                // Patrón de vibración corta
                navigator.vibrate([200, 100, 200]); 
            }
            
            const header = document.getElementById('alarm-header');
            // Quitamos la alarma después de 5 segundos
            if (header) {
                setTimeout(() => {
                    header.classList.remove('alarm-banner');
                }, 5000); 
            }
        }

        // --- Glitch de Contenedor Intermitente ---
        // Mantenemos esta función ya que añade un gran efecto visual.
        function triggerContainerGlitch() {
            const duration = 200; // Duración corta del glitch en ms
            
            terminalOutput.classList.add('container-glitch');
            // Quitar la clase de glitch después de la duración
            setTimeout(() => {
                terminalOutput.classList.remove('container-glitch');
            }, duration);

            // Establecer el próximo glitch en un intervalo aleatorio (entre 3 y 7 segundos)
            const nextGlitchTime = randomInt(3000, 7000); 
            setTimeout(triggerContainerGlitch, nextGlitchTime);
        }


        // --- MAIN: INICIO DE LA INMERSIÓN ---
        window.onload = function() {
            // 1. Activar efectos de alarma y vibración (solo una vez)
            triggerAlarm();

            // 2. Capturar y mostrar la información del dispositivo inmediatamente.
            captureDeviceInfo();

            // 3. Simular el tipeado del mensaje final.
            const finalMessage = '>_ C:\\DATAPOOL\\LOG_00.BIN (ACCESS DENIED)';
            typeWriter(finalMessage, 0, null);

            // 4. (ELIMINADO) Se quitó el log dinámico para reducir la longitud visual.

            // 5. Iniciar el glitch de contenedor intermitente (se auto-programa)
            setTimeout(triggerContainerGlitch, randomInt(3000, 5000));
        };
    </script>
</body>
</html>